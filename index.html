<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tienda Online de Comida para Navidad - Las mejores recetas y productos">
    <title>Sabor Navideño | Tienda Online</title>
    <link rel="icon" type="image/png" href="assets/img/favicon.png">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- Font Awesome (Optional, for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>

<body>
    <div class="app-container page-enter">
        <!-- 1. LANDING PAGE (Guest View) -->
        <section id="landing-page" class="landing">
            <div class="landing__container container">
                <div class="landing__content">
                    <header class="landing__header">
                        <div class="logo">
                            <img src="assets/img/favicon.png" alt="Logo" class="logo__img">
                            Sabor<span class="logo__highlight">Navideño</span>
                        </div>
                        <h1 class="landing__title">La Magia de la Navidad en tu Mesa</h1>
                        <p class="landing__subtitle">Regístrate para descubrir nuestras recetas exclusivas y realizar tu
                            pedido.</p>
                    </header>

                    <!-- Auth Forms -->
                    <div class="auth">
                        <div class="auth__tabs">
                            <button class="auth__tab active" data-target="login">Entrar</button>
                            <button class="auth__tab" data-target="register">Registrarse</button>
                        </div>

                        <!-- Login Form -->
                        <form id="login-form" class="auth__form">
                            <div class="auth__group">
                                <label for="login-username">Usuario</label>
                                <input type="text" id="login-username" name="username" placeholder="Tu usuario"
                                    required>
                            </div>
                            <div class="auth__group">
                                <label for="login-password">Contraseña</label>
                                <input type="password" id="login-password" name="password" placeholder="Tu contraseña"
                                    required>
                            </div>

                            <div class="auth__group auth__captcha">
                                <label for="login-captcha" id="captcha-label">¿Cuánto es ?</label>
                                <input type="number" id="login-captcha" name="captcha" placeholder="Respuesta" required>
                            </div>

                            <button type="submit" class="btn btn--primary btn--block">Entrar ahora</button>
                            <p class="auth__error hidden" id="login-error">Usuario o contraseña incorrectos.</p>
                        </form>

                        <!-- Register Form (Hidden by default) -->
                        <form id="register-form" class="auth__form hidden">
                            <div class="auth__group">
                                <label for="reg-name">Nombre Completo</label>
                                <input type="text" id="reg-name" name="name" placeholder="Tu nombre" required>
                            </div>
                            <div class="auth__group">
                                <label for="reg-username">Usuario</label>
                                <input type="text" id="reg-username" name="username" placeholder="Crea un usuario"
                                    required>
                            </div>
                            <div class="auth__group">
                                <label for="reg-email">Email</label>
                                <input type="email" id="reg-email" name="email" placeholder="tu@email.com" required>
                            </div>
                            <div class="auth__group">
                                <label for="reg-password">Contraseña</label>
                                <input type="password" id="reg-password" name="password"
                                    placeholder="Mínimo 6 caracteres" required>
                            </div>
                            <button type="submit" class="btn btn--primary btn--block">Crear Cuenta</button>
                        </form>
                    </div>
                </div>

                <!-- Irregular Food Gallery -->
                <div class="landing__gallery gallery">
                    <h2 class="gallery__title">Déjate Inspirar</h2>
                    <div class="gallery__grid">
                        <!-- Se cargará dinámicamente con imágenes aleatorias -->
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. MAIN APP (Authenticated View - Hidden by default) -->
        <div id="main-app" class="hidden">
            <!-- Efecto Nieve de Fondo -->
            <div class="snowflakes" aria-hidden="true">
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
                <div class="snowflake">❅</div>
                <div class="snowflake">❆</div>
            </div>

            <!-- Header & Nav -->
            <header class="header">
                <div class="header__container container">
                    <a href="#" class="logo" id="logo-nav">
                        <img src="assets/img/favicon.png" alt="Logo" class="logo__img">
                        Sabor<span class="logo__highlight">Navideño</span>
                    </a>

                    <nav class="nav nav__menu" id="nav-menu">
                        <ul class="nav__list">
                            <li class="nav__item"><a href="#" class="nav__link active-link" id="nav-home">Inicio</a>
                            </li>
                            <li class="nav__item"><a href="#" class="nav__link" id="nav-products">Productos</a></li>
                        </ul>
                        <div class="nav__close" id="nav-close">
                            <i class="fa-solid fa-xmark"></i>
                        </div>
                    </nav>

                    <div class="header__actions">
                        <span id="user-welcome" class="user-name">Hola, Chef</span>
                        <button class="btn-icon" id="cart-btn" aria-label="Ver carrito">
                            <i class="fa-solid fa-cart-shopping"></i>
                            <span class="cart-badge">0</span>
                        </button>
                        <button class="btn-icon" id="logout-btn" title="Cerrar Sesión">
                            <i class="fa-solid fa-right-from-bracket"></i>
                        </button>
                        <button class="btn-icon nav__toggle" id="nav-toggle" aria-label="Abrir menú">
                            <i class="fa-solid fa-bars"></i>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Main Content Area -->
            <main class="main">
                <!-- VIEW 1: PRODUCT CATALOG -->
                <div id="catalog-view" class="view">
                    <!-- Hero Section -->
                    <section class="hero">
                        <div class="hero__content container">
                            <h1 class="hero__title">Celebra con el mejor <br> <span class="text-gradient">Sabor
                                    Navideño</span></h1>
                            <p class="hero__description">Descubre nuestras recetas exclusivas y productos gourmet para
                                hacer de tu cena una noche inolvidable.</p>
                            <a href="#" class="btn btn--primary" id="hero-cta">Ver Catálogo <i
                                    class="fa-solid fa-arrow-right"></i></a>
                        </div>
                        <div class="hero__background"></div>
                    </section>

                    <!-- Filters Section -->
                    <section class="filters container section">
                        <div class="filters__header">
                            <h2 class="section__title" id="nuestros-platos">Nuestros Platos</h2>
                            <div class="filters__controls">
                                <div class="filters__group">
                                    <button class="filter-btn active" data-category="all">Todos</button>
                                    <button class="filter-btn" data-category="Seafood">Mariscos</button>
                                    <button class="filter-btn" data-category="Pasta">Pasta</button>
                                    <button class="filter-btn" data-category="Dessert">Postres</button>
                                </div>

                                <div class="sort__group">
                                    <label for="sort-select" class="sort__label">Ordenar por:</label>
                                    <select id="sort-select" class="sort__select">
                                        <option value="default">Recomendados</option>
                                        <option value="price-asc">Precio: Menor a Mayor</option>
                                        <option value="price-desc">Precio: Mayor a Menor</option>
                                        <option value="name-az">Nombre: A-Z</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Products Grid -->
                    <section class="products container" id="productos">
                        <div id="app" class="products__grid">
                            <!-- Skeleton logic handled by JS -->
                        </div>
                    </section>
                </div>

                <!-- VIEW 2: SHOPPING CART -->
                <div id="cart-view" class="view hidden">
                    <section class="cart-page container section">
                        <h2 class="section__title">Tu Pedido Navideño</h2>

                        <div class="cart-page__container">
                            <div id="cart-full-list" class="cart-page__list">
                                <!-- Items will be rendered here -->
                            </div>

                            <div class="cart-page__summary summary">
                                <h3 class="summary__title">Resumen del Pedido</h3>
                                <div class="summary__data">
                                    <div class="summary__line">
                                        <span>Subtotal:</span>
                                        <span id="summary-subtotal">$0.00</span>
                                    </div>
                                    <div class="summary__line">
                                        <span>Gastos de envío:</span>
                                        <span>Gratis</span>
                                    </div>
                                    <div class="summary__line summary__line--total">
                                        <span>Total:</span>
                                        <span id="summary-total">$0.00</span>
                                    </div>
                                </div>
                                <button class="btn btn--primary btn--block" id="checkout-final-btn">Finalizar
                                    Compra</button>
                                <button class="btn btn--outline btn--block" id="continue-shopping">Continuar
                                    Comprando</button>
                            </div>
                        </div>
                    </section>
                </div>
            </main>

            <!-- Footer -->
            <footer class="footer section">
                <div class="footer__container container">
                    <div class="footer__content">
                        <a href="#" class="logo footer__logo">
                            Sabor<span class="logo__highlight">Navideño</span>
                        </a>
                        <p class="footer__description">Llevando la magia de la cocina a tu mesa desde 2025.</p>
                    </div>
                </div>
                <p class="footer__copy">&#169; 2026 Proyecto Navidad. Todos los derechos reservados.</p>
            </footer>

            <!-- Modal de Detalle de Producto -->
            <div id="product-modal" class="modal hidden">
                <div class="modal__overlay" id="modal-overlay"></div>
                <div class="modal__content">
                    <button class="modal__close" id="modal-close">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                    <div id="modal-body">
                        <!-- Contenido dinámico -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JS -->
    <script src="assets/js/app.js" defer></script>
</body>

</html>